# 250122

이메일 검증
mybatis mapper를 통해 email 검색 후 count로 값이 1이 발생하면 alert로 알림창 발생
alert 알림창은 추후 전부 Jquery나 bootstrap으로 변경.

아이디검증을 새창에서 진행하는것으로 진행.
우선에 창이 열리고, 아이디를 거기서 db를 통해 검증을 한후, 아이디를 체킹을하고 확인을 누를 시 회원가입 페이지의 input 태그의 아이디가 userid인 것을 disabled 처리 후, 고정되게 하고, hidden input에 아이디가 검증이 되었다는 마킹을 0 1 로 하는데, 이 값으로 검증을 하게되고, 회원가입 버튼을 눌렀을 시에 hidden type안에 있는 값을 체크하여 db에 commit전에 확인을 하게 해야한다.

/// 아니면 아이디를 쳤을때 옆에서 바로 event 감지자가 이벤트를 감지해서 db안에 데이터를 검증하면서 겹치면 빨간색 글씨로 사용이 불가능한 아이디라고 표기, 가능하면 초록색 글씨로 사용이 가능한 아이디라고 표기, 오류발생시 노란색 글씨로 오류발생 출력.


일딴 제끼고,  내정보수정, 회원탈퇴, 아이디/비밀번호 찾기

내정보수정은 mybatis를 통해 userIdx값으로 유저의 정보를 불러내고 JSTL로 VO의 값을 불러내서 표기를 해주고,

이메일은 EMAILPART1 PART2를 합쳐서 EMAIL 변수에 합쳐서 같이 저장해서 MYSQL에 UPDATE문으로 저장.

비밀번호도 마찬가지로 현재 비밀번호가 같은지 검증하고,
새 비밀번호와 새 비밀번호 확인은 register안에 있는 비밀번호 검증 하는 과정을 복붙해서 사용.

이후 UPDATE문으로 MYSQL 갱신.

회원탈퇴도 마찬가지로 현재 비밀번호를 검증하는 과정을 걸치고,

EmailServlet을 통해 인증번호를 요청받고, 인증번호를 검증하고 난후에 탈퇴버튼이 활성화가 되서 UserStatus에 값이 0으로 변경되고, 로그인을 새로해서 검증할때 userStatus값이 0이면 로그인이 안되게 막아버린다.