CREATE DATABASE  IF NOT EXISTS `cinema_db` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `cinema_db`;
-- MySQL dump 10.13  Distrib 8.0.40, for Win64 (x86_64)
--
-- Host: 180.71.29.2    Database: cinema_db
-- ------------------------------------------------------
-- Server version	5.7.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `point`
--

DROP TABLE IF EXISTS `point`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `point` (
  `pointIdx` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '포인트 고유 ID',
  `userIdx` bigint(20) NOT NULL COMMENT '사용자 고유 ID',
  `paymentIdx` bigint(20) DEFAULT NULL COMMENT '결제 고유 ID (결제 관련 포인트인 경우에만 사용)',
  `reviewIdx` bigint(20) DEFAULT NULL COMMENT '리뷰 고유 ID (리뷰 관련 포인트인 경우에만 사용)',
  `pointType` tinyint(4) NOT NULL COMMENT '포인트 종류 (0: 적립, 1: 사용, 만료)',
  `pointSource` varchar(10) DEFAULT NULL COMMENT '포인트 출처 (예: "PAYMENT", "REVIEW", "EVENT")',
  `pointValue` int(11) NOT NULL COMMENT '변동된 포인트 값',
  `pointDate` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '포인트 변동 일시',
  `pointStatus` tinyint(1) NOT NULL DEFAULT '0' COMMENT '포인트 상태 (0: 정상, 1: 취소)',
  PRIMARY KEY (`pointIdx`),
  KEY `userIdx` (`userIdx`),
  CONSTRAINT `point_ibfk_1` FOREIGN KEY (`userIdx`) REFERENCES `user` (`userIdx`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=84 DEFAULT CHARSET=utf8 COMMENT='사용자의 포인트 변동 내역을 저장하는 테이블';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `point`
--

LOCK TABLES `point` WRITE;
/*!40000 ALTER TABLE `point` DISABLE KEYS */;
INSERT INTO `point` VALUES (1,1,1,NULL,0,'PAYMENT',800,'2025-01-22 09:10:00',0),(2,2,2,NULL,0,'PAYMENT',850,'2025-01-22 11:45:00',0),(3,3,3,NULL,0,'PAYMENT',750,'2025-01-22 10:20:00',0),(4,4,4,NULL,0,'PAYMENT',1000,'2025-01-22 10:30:00',0),(5,5,5,NULL,0,'PAYMENT',850,'2025-01-22 11:20:00',0),(6,6,6,NULL,0,'PAYMENT',800,'2025-01-23 09:10:00',0),(7,7,7,NULL,0,'PAYMENT',850,'2025-01-23 11:40:00',0),(8,8,8,NULL,0,'PAYMENT',900,'2025-01-23 10:15:00',0),(9,9,9,NULL,0,'PAYMENT',1000,'2025-01-23 11:40:00',0),(10,10,10,NULL,0,'PAYMENT',750,'2025-01-23 12:45:00',0),(11,11,11,NULL,0,'PAYMENT',850,'2025-01-24 09:10:00',0),(12,12,12,NULL,0,'PAYMENT',800,'2025-01-24 11:45:00',0),(13,13,13,NULL,0,'PAYMENT',950,'2025-01-24 10:20:00',0),(14,14,14,NULL,0,'PAYMENT',850,'2025-01-24 11:40:00',0),(15,15,15,NULL,0,'PAYMENT',750,'2025-01-24 12:45:00',0),(16,1,NULL,1,0,'REVIEW',100,'2025-01-22 12:00:00',0),(17,2,NULL,2,0,'REVIEW',100,'2025-01-22 12:30:00',0),(18,3,NULL,3,0,'REVIEW',100,'2025-01-22 13:00:00',0),(19,4,NULL,4,0,'REVIEW',100,'2025-01-22 14:00:00',0),(20,5,NULL,5,0,'REVIEW',100,'2025-01-22 15:00:00',0),(21,6,NULL,6,0,'REVIEW',100,'2025-01-23 16:00:00',0),(22,7,NULL,7,0,'REVIEW',100,'2025-01-23 17:00:00',0),(23,8,NULL,8,0,'REVIEW',100,'2025-01-23 18:00:00',0),(24,9,NULL,9,0,'REVIEW',100,'2025-01-23 19:00:00',0),(25,10,NULL,10,0,'REVIEW',100,'2025-01-23 20:00:00',0),(27,1,NULL,1,1,'REVIEW',100,'2025-02-03 19:11:58',0),(28,1,64,NULL,1,'PAYMENT',100,'2025-02-03 21:43:42',0),(29,2,70,NULL,1,'PAYMENT',500,'2025-02-04 10:56:52',0),(32,3,73,NULL,1,'PAYMENT',800,'2025-02-04 14:42:04',0),(35,191,85,NULL,1,'PAYMENT',500,'2025-02-06 12:41:44',1),(36,191,86,NULL,1,'PAYMENT',500,'2025-02-06 12:47:37',1),(37,191,111,NULL,1,'PAYMENT',1000,'2025-02-06 18:43:34',1),(38,191,119,NULL,1,'PAYMENT',1000,'2025-02-06 19:07:53',0),(39,191,120,NULL,1,'PAYMENT',2000,'2025-02-06 19:09:50',0),(40,191,120,NULL,0,'PAYMENT',700,'2025-02-06 19:09:50',0),(41,191,120,NULL,0,'PAYMENT',700,'2025-02-07 09:45:53',0),(43,183,138,NULL,0,'PAYMENT',2000,'2025-02-07 12:29:56',0),(44,183,139,NULL,0,'PAYMENT',0,'2025-02-07 12:30:05',0),(45,183,141,NULL,0,'PAYMENT',2000,'2025-02-07 12:33:49',0),(46,191,144,NULL,1,'PAYMENT',1000,'2025-02-08 16:50:25',0),(47,191,144,NULL,0,'PAYMENT',800,'2025-02-08 16:50:25',0),(48,183,145,NULL,0,'PAYMENT',2000,'2025-02-08 18:24:53',0),(49,3,146,NULL,0,'STORE',13000,'2025-02-08 19:50:25',0),(50,3,147,11,0,'REVIEW',100,'2025-02-08 20:50:25',0),(51,3,148,12,0,'REVIEW',100,'2025-02-08 21:50:25',0),(52,3,149,NULL,0,'STORE',2000,'2025-02-08 22:50:25',0),(53,3,150,13,0,'REVIEW',100,'2025-02-08 23:50:25',0),(54,3,151,14,0,'REVIEW',100,'2025-02-09 01:50:25',0),(55,3,152,15,0,'REVIEW',100,'2025-02-09 02:50:25',0),(56,3,153,16,0,'REVIEW',100,'2025-02-09 03:50:25',0),(57,3,154,NULL,0,'PAYMENT',2000,'2025-02-09 04:50:25',1),(58,3,155,NULL,0,'PAYMENT',2000,'2025-02-09 05:50:25',0),(59,191,150,NULL,1,'PAYMENT',500,'2025-02-09 17:55:50',0),(60,191,150,NULL,0,'PAYMENT',825,'2025-02-09 17:55:50',0),(61,191,151,NULL,0,'PAYMENT',850,'2025-02-09 18:07:31',0),(62,191,152,NULL,0,'PAYMENT',750,'2025-02-09 18:16:19',0),(63,236,153,NULL,0,'PAYMENT',2300,'2025-02-10 01:47:03',0),(64,236,154,NULL,0,'PAYMENT',1400,'2025-02-10 01:55:07',1),(65,236,155,NULL,0,'STORE',2999,'2025-02-10 02:11:27',0),(66,179,156,NULL,0,'PAYMENT',600,'2025-02-10 10:11:55',0),(67,179,157,NULL,0,'PAYMENT',800,'2025-02-10 10:19:34',0),(68,179,NULL,1,1,'REVIEW',100,'2025-02-10 10:37:46',0),(69,179,160,NULL,0,'PAYMENT',850,'2025-02-10 10:51:12',0),(70,191,181,NULL,0,'PAYMENT',2450,'2025-02-10 14:15:15',0),(71,191,NULL,2,1,'REVIEW',100,'2025-02-10 14:15:48',0),(72,191,182,NULL,0,'PAYMENT',1800,'2025-02-10 14:23:17',0),(73,191,183,NULL,0,'STORE',2000,'2025-02-10 14:24:02',0),(74,191,184,NULL,0,'STORE',600,'2025-02-10 14:27:54',0),(75,191,185,NULL,0,'PAYMENT',2900,'2025-02-10 14:42:02',0),(76,191,186,NULL,1,'PAYMENT',500,'2025-02-10 15:25:49',0),(77,191,186,NULL,0,'PAYMENT',3375,'2025-02-10 15:25:49',0),(78,191,187,NULL,1,'PAYMENT',4000,'2025-02-11 21:21:35',0),(79,191,187,NULL,0,'PAYMENT',2500,'2025-02-11 21:21:35',0),(80,161,188,NULL,0,'PAYMENT',1300,'2025-02-11 21:46:33',0),(81,191,189,NULL,0,'STORE',100,'2025-02-11 22:39:40',0),(82,236,190,NULL,1,'PAYMENT',7998,'2025-02-16 16:19:53',0),(83,236,190,NULL,0,'PAYMENT',1300,'2025-02-16 16:19:53',0);
/*!40000 ALTER TABLE `point` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-03-16 19:51:07
