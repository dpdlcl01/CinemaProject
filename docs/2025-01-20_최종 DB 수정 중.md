
1. 사용자(user) 테이블    
2. 영화(movie) 테이블    
     
3. 극장(theater) 테이블    
4. 상영관(screen) 테이블    
5. 상영 시간표(timetable) 테이블    
6. 좌석(seat) 테이블    
7. 좌석 가격(price) 테이블     
   
8. 예매(reservation) 테이블    
9. 예매-좌석 매핑(reservationSeatMapping) 테이블    
   
10. 쿠폰(coupon) 테이블    
11. 쿠폰-사용자 매핑(couponUserMapping) 테이블  
    
12. 상품(product) 테이블  
13. 장바구니(cart) 테이블
14. 결제(payment) 테이블    
15. 포인트(point) 테이블     
    
16. 관람한 영화 목록(watchedMovie) 테이블     
17. 리뷰(review) 테이블    
    
18. 선호 영화 목록(favoriteMovie) 테이블    
19. 선호 극장 목록(favoriteTheater) 테이블    
    
20. 게시판(board) 테이블     
21. 관리자(admin) 테이블    
22. 로그(log) 테이블    

---

### **1. 사용자(user) 테이블**

| PK/FK  | Column Name      | Data Type    | Description                       | Default           |
| ------ | ---------------- | ------------ | --------------------------------- | ----------------- |
| PK     | userIdx          | BIGINT       | 사용자 고유 ID                         | AUTO INCREMENT    |
|        | userName         | VARCHAR(20)  | 사용자 이름                            |                   |
|        | userId           | VARCHAR(20)  | 사용자 로그인 ID (회원 전용)                |                   |
|        | userPassword     | VARCHAR(255) | 사용자 비밀번호  (bcrypt 해시 값 저장, 회원 전용) |                   |
|        | userAuthPassword | VARCHAR(255) | 비회원 인증용 4자리 비밀번호 (bcrypt 해시 값 저장) |                   |
| UNIQUE | userEmail        | VARCHAR(50)  | 사용자 이메일 (회원 및 비회원)                |                   |
|        | userPhone        | VARCHAR(20)  | 사용자 연락처 (회원 전용)                   |                   |
|        | userPoint        | INT          | 사용자 보유 포인트                        |                   |
|        | userGrade        | VARCHAR(5)   | 사용자 등급 (BASIC, VIP, VVIP)         |                   |
|        | userRegDate      | DATETIME     | 사용자 가입일                           | CURRENT_TIMESTAMP |
|        | userStatus       | TINYINT(1)   | 사용자 상태 (0: 활성, 1: 탈퇴, NULL: 비회원)  | 0                 |
- 비회원의 경우 userName, userEmail, userAuthPassword 값을 받는다.

---

### **2. 영화(movie) 테이블**

| PK/FK | Column Name          | Data Type    | Description                                       | Default        |
| ----- | -------------------- | ------------ | ------------------------------------------------- | -------------- |
| PK    | movieIdx             | BIGINT       | 영화 고유 ID                                          | AUTO INCREMENT |
|       | movieCd              | VARCHAR(20)  | KOFIC 영화 고유 코드                                    |                |
|       | movieTitle           | VARCHAR(100) | 영화 제목                                             |                |
|       | movieTitleEn         | VARCHAR(200) | 영화 제목 (영문)                                        |                |
|       | movieGenre           | VARCHAR(50)  | 영화 장르                                             |                |
|       | movieTime            | INT          | 상영 시간 (분 단위)                                      |                |
|       | movieGrade           | INT          | 관람 등급 (0: 전체, 12: 12세 이상, 15: 15세 이상, 19: 청소년 불가) |                |
|       | movieDate            | DATE         | 개봉일                                               |                |
|       | movieDirector        | VARCHAR(50)  | 감독 (정보가 없을 경우 NULL)                               |                |
|       | movieActors          | TEXT         | 주요 배우 리스트 (쉼표로 구분된 문자열 형태)                        |                |
|       | movieInfo            | TEXT         | 영화 상세 설명                                          |                |
|       | moviePosterUrl       | VARCHAR(500) | 포스터 이미지 경로                                        |                |
|       | movieRank            | INT          | 영화 예매 순위 (NULL: 상위 80개에 포함되지 않음)                  |                |
|       | movieReservationRate | FLOAT        | 영화 예매율 (%)                                        |                |
|       | movieTotalAudience   | BIGINT       | 누적 관객수                                            |                |
|       | movieLikes           | INT          | 좋아요 수 (찜하기 기능에 사용)                                |                |
|       | movieStatus          | TINYINT(1)   | 영화 상태 (0: 개봉, 1: 개봉 예정, 2: 종료)                    | 0              |

---

### **3. 극장(theater) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|theaterIdx|BIGINT|극장 고유 ID|AUTO INCREMENT|
||theaterName|VARCHAR(30)|극장 이름||
||theaterRegion|VARCHAR(20)|극장 지역||
||theaterAddress|VARCHAR(100)|극장 주소||
||theaterInfo|VARCHAR(255)|극장 설명 (간단한 소개 문구)||
||theaterImageUrl|VARCHAR(255)|극장 설명 이미지 URL (보유 시설, 층별 안내 이미지)||
||theaterScreenCount|INT(2)|총 상영관 수||
||theaterRegDate|DATETIME|극장 등록일 (관리자 입력)||
||theaterStatus|TINYINT(1)|극장 상태 (0: 운영 중, 1: 점검, 2: 폐쇄)|0|

---

### **4. 상영관(screen) 테이블**

| PK/FK | Column Name     | Data Type    | Description                    | Default        |
| ----- | --------------- |--------------| ------------------------------ | -------------- |
| PK    | screenIdx       | BIGINT       | 상영관 고유 ID                      | AUTO INCREMENT |
| FK    | theaterIdx      | BIGINT       | 극장 ID                          |                |
|       | screenName      | VARCHAR(20)  | 상영관 이름                         |                |
|       | screenType      | TINYINT(1)   | 상영관 유형 (1: COMFORT, 2: VIP, 3: DOLBY, 4: 4DX, 5: IMAX) |                |
|       | screenSeatCount | INT(5)       | 좌석 수                           |                |
|       | screenStatus    | TINYINT(1)   | 상영관 상태 (0: 운영 중, 1: 점검, 2: 폐쇄) | 0              |

---

### **5. 상영 시간표(timetable) 테이블**

| PK/FK | Column Name        | Data Type | Description  | Default        |
| ----- | ------------------ | --------- | ------------ | -------------- |
| PK    | timetableIdx       | BIGINT    | 상영 시간표 고유 ID | AUTO INCREMENT |
| FK    | movieIdx           | BIGINT    | 영화 ID        |                |
| FK    | theaterIdx         | BIGINT    | 극장 ID        |                |
| FK    | screenIdx          | BIGINT    | 상영관 ID       |                |
|       | timetableStartTime | DATETIME  | 상영 시작 시간     |                |
|       | timetableEndTime   | DATETIME  | 상영 종료 시간     |                |

---

### **6. 좌석(seat) 테이블**

| PK/FK | Column Name | Data Type  | Description                        | Default        |
| ----- | ----------- | ---------- | ---------------------------------- | -------------- |
| PK    | seatIdx     | BIGINT     | 좌석 고유 ID                           | AUTO INCREMENT |
| FK    | screenIdx   | BIGINT     | 상영관 ID                             |                |
|       | seatNumber  | VARCHAR(5) | 좌석 번호 (예: A1, B2 등)                |                |
|       | seatStatus  | TINYINT(1) | 좌석 상태 (0: 사용 가능, 1: 예약됨, 2: 임시 확보) | 0              |

---

### **7. 좌석 가격(price) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|priceIdx|BIGINT|가격 설정 고유 ID|AUTO INCREMENT|
||screenType|TINYINT(1)|상영관 유형 (1: COMFORT, 2: VIP, 3: DOLBY, 4: 4DX, 5: IMAX)||
||ageGroup|TINYINT(1)|연령대 (1: 성인, 2: 청소년)||
||dayOfWeek|TINYINT(1)|요일 (1: 주중, 2: 주말)||
||timeOfDay|TINYINT(1)|시간대 (1: 조조 및 심야, 2: 일반)||
||seatPrice|INT(7)|좌석 가격||

---

### **8. 예매(reservation) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|reservationIdx|BIGINT|예매 고유 ID|AUTO INCREMENT|
|FK|userIdx|BIGINT|사용자 ID||
|FK|theaterIdx|BIGINT|극장 ID||
|FK|screenIdx|BIGINT|상영관 ID||
|FK|timetableIdx|BIGINT|상영 시간표 ID||
||reservationDate|DATETIME|예매일|CURRENT_TIMESTAMP|
||reservationStatus|TINYINT(1)|예매 상태 (0: 완료, 1: 취소)|0|

---

### **9. 예매-좌석 매핑(reservationSeatMapping) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|reservationSeatIdx|BIGINT|매핑 고유 ID|AUTO INCREMENT|
|FK|reservationIdx|BIGINT|예매 ID||
|FK|seatIdx|BIGINT|좌석 ID||
|FK|priceIdx|BIGINT|가격 설정 고유 ID||

---

### **10. 쿠폰(coupon) 테이블**

| PK/FK | Column Name    | Data Type   | Description                         | Default        |
| ----- | -------------- | ----------- | ----------------------------------- | -------------- |
| PK    | couponIdx      | BIGINT      | 쿠폰 고유 ID                            | AUTO INCREMENT |
|       | couponCategory | TINYINT(1)  | 쿠폰 카테고리 (1: 매표, 2: 매점, 3: 포인트)      |                |
|       | couponName     | VARCHAR(50) | 쿠폰 이름                               |                |
|       | couponInfo     | TEXT        | 쿠폰 설명                               |                |
|       | couponType     | TINYINT(1)  | 할인 유형 (1: 금액, 2: 추가 제공)             |                |
|       | couponValue    | INT         | 할인 값 (금액일 경우 할인 금액, 추가 제공일 경우 NULL) |                |
|       | couponRegDate  | DATETIME    | 쿠폰 사용 시작일                           |                |
|       | couponExpDate  | DATETIME    | 쿠폰 만료일                              |                |
|       | couponStatus   | TINYINT(1)  | 쿠폰 상태 (0: 활성, 1: 만료)                | 0              |

---

### **11. 쿠폰-사용자 매핑(couponUserMapping) 테이블**

| PK/FK | Column Name      | Data Type  | Description           | Default        |
| ----- | ---------------- | ---------- | --------------------- | -------------- |
| PK    | couponUserIdx    | BIGINT     | 매핑 고유 ID              | AUTO INCREMENT |
| FK    | couponIdx        | BIGINT     | 쿠폰 ID                 |                |
| FK    | userIdx          | BIGINT     | 사용자 ID                |                |
|       | couponUserStatus | TINYINT(1) | 사용 여부 (0: 미사용, 1: 사용) | 0              |
|       | couponUserDate   | DATETIME   | 쿠폰 사용일 (NULL: 미사용 상태) | NULL           |

---

### **12. 상품(product) 테이블**

| PK/FK | Column Name     | Data Type    | Description                   | Default           |
| ----- | --------------- |--------------| ----------------------------- | ----------------- |
| PK    | productIdx      | BIGINT       | 상품 고유 ID                      | AUTO INCREMENT    |
|       | productCategory | TINYINT(1)   | 상품 카테고리 (1: 굿즈, 2: 스낵)        |                   |
|       | productName     | VARCHAR(50)  | 상품명                           |                   |
|       | productInfo     | TEXT         | 상품 설명                         |                   |
|       | productPrice    | INT(7)       | 상품 가격                         |                   |
|       | productStock    | INT(5)       | 상품 재고 수량                      |                   |
|       | productImg      | VARCHAR(255) | 상품 이미지 파일명 (예: image.jpg)              |                   |
|       | productRegDate  | DATETIME     | 상품 등록일                        | CURRENT_TIMESTAMP |
|       | productStatus   | TINYINT(1)   | 상품 상태 (0: 판매 중, 1: 품절, 2: 종료) | 0                 |

---

### **13. 장바구니(cart) 테이블**

| PK/FK | Column Name   | Data Type | Description | Default           |
| ----- | ------------- | --------- | ----------- | ----------------- |
| PK    | cartIdx       | BIGINT    | 장바구니 고유 ID  | AUTO INCREMENT    |
| FK    | userIdx       | BIGINT    | 사용자 고유 ID   |                   |
| FK    | productIdx    | BIGINT    | 상품 고유 ID    |                   |
|       | quantity      | INT       | 상품 수량       |                   |


---

### **14. 결제(payment) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|paymentIdx|BIGINT|결제 고유 ID|AUTO INCREMENT|
|FK|userIdx|BIGINT|사용자 고유 ID||
||paymentType|TINYINT(1)|결제 종류 (1: 영화 예매, 2: 상품 구매)||
|FK|reservationIdx|BIGINT|예매 고유 ID (영화 결제인 경우에만 사용)||
|FK|productIdx|BIGINT|상품 고유 ID (상품 결제인 경우에만 사용)||
||paymentMethod|VARCHAR(10)|결제 방식 (CARD, NAVER, KAKAO, TOSS 등)||
||paymentTotal|INT(7)|결제 금액 (할인 전 금액)||
||paymentDiscount|INT(7)|포인트, 쿠폰 등 할인 금액||
||paymentFinal|INT(7)|실제 결제 금액||
||paymentTransactionId|VARCHAR(50)|결제 API에서 제공하는 고유 거래 ID||
||paymentApprovalNumber|VARCHAR(30)|결제 승인 번호 (결제 성공 시 API가 반환하는 승인 번호)||
||paymentDate|DATETIME|결제일|CURRENT_TIMESTAMP|
||paymentStatus|TINYINT(1)|결제 상태 (0: 완료, 1: 대기, 2: 취소)|0|

---

### **15. 포인트(point) 테이블**

| PK/FK | Column Name | Data Type    | Description                  | Default           |
| ----- | ----------- | ------------ | ---------------------------- | ----------------- |
| PK    | pointIdx    | BIGINT       | 포인트 고유 ID                    | AUTO INCREMENT    |
| FK    | userIdx     | BIGINT       | 사용자 고유 ID                    |                   |
|       | pointType   | TINYINT      | 포인트 종류 (0: 적립, 1: 사용, 2: 만료) |                   |
|       | pointSource | VARCHAR(255) | 포인트 출처 (예: '영화 예매', '리뷰 작성') |                   |
|       | pointValue  | INT          | 변동된 포인트 값                    |                   |
|       | pointDate   | DATETIME     | 포인트 변동 일시                    | CURRENT_TIMESTAMP |
|       | pointStatus | TINYINT(1)   | 포인트 상태 (0: 정상, 1: 취소)        | 0                 |

---

### **16. 관람한 영화 목록(watchedMovie) 테이블**

|PK/FK|Column Name|Data Type|Description|Default|
|---|---|---|---|---|
|PK|watchedIdx|BIGINT|관람한 영화 목록 고유 ID|AUTO INCREMENT|
|FK|userIdx|BIGINT|사용자 ID||
|FK|movieIdx|BIGINT|영화 ID||
|FK|reservationIdx|BIGINT|예매 ID||
|FK|screenIdx|BIGINT|상영관 ID||
||watchedDate|DATETIME|영화 시청 날짜||

---

### **17. 리뷰(review) 테이블**

| PK/FK | Column Name   | Data Type  | Description            | Default           |
| ----- | ------------- | ---------- | ---------------------- | ----------------- |
| PK    | reviewIdx     | BIGINT     | 리뷰 고유 ID               | AUTO INCREMENT    |
| FK    | userIdx       | BIGINT     | 사용자 ID                 |                   |
| FK    | movieIdx      | BIGINT     | 영화 ID                  |                   |
|       | reviewRating  | INT        | 영화 평점 (1~10 정수)        |                   |
|       | reviewContent | TEXT       | 리뷰 내용                  |                   |
|       | reviewDate    | DATETIME   | 리뷰 작성일                 | CURRENT_TIMESTAMP |
|       | reviewStatus  | TINYINT(1) | 리뷰 상태 (0: 게시 중, 1: 삭제) | 0                 |

---

### **18. 선호 영화 목록(favoriteMovie) 테이블**

| PK/FK | Column Name | Data Type | Description | Default           |
| ----- | ----------- | --------- | ----------- | ----------------- |
| PK    | favoriteIdx | BIGINT    | 선호 영화 고유 ID | AUTO INCREMENT    |
| FK    | userIdx     | BIGINT    | 사용자 고유 ID   |                   |
| FK    | movieIdx    | BIGINT    | 영화 고유 ID    |                   |

---

### **19. 선호 극장 목록(favoriteTheater) 테이블**

| PK/FK | Column Name | Data Type | Description | Default           |
| ----- | ----------- | --------- | ----------- | ----------------- |
| PK    | favoriteIdx | BIGINT    | 선호 극장 고유 ID | AUTO INCREMENT    |
| FK    | userIdx     | BIGINT    | 사용자 고유 ID   |                   |
| FK    | theaterIdx  | BIGINT    | 극장 고유 ID    |                   |

---

### **20. 게시판(board) 테이블**

| PK/FK | Column Name  | Data Type   | Description                         | Default        |
| ----- | ------------ | ----------- | ----------------------------------- | -------------- |
| PK    | boardIdx     | BIGINT      | 게시판 고유 ID                           | AUTO INCREMENT |
| FK    | adminIdx     | BIGINT      | 관리자 ID                              |                |
| FK    | theaterIdx   | BIGINT      | 극장 고유 ID (전체 극장 대상인 경우 NULL)        |                |
|       | boardType    | VARCHAR(30) | 게시판 종류 (NOTICE: 공지사항, EVENT: 이벤트)   |                |
|       | boardTitle   | VARCHAR(70) | 게시판 제목                              |                |
|       | boardContent | TEXT        | 게시판 내용 (이벤트 내용은 이미지 태그로 입력)         |                |
|       | boardRegDate | DATETIME    | 게시 시작일                              |                |
|       | boardExpDate | DATETIME    | 게시 종료일 (NULL 가능)                    |                |
|       | boardStatus  | TINYINT(1)  | 게시 상태 (0: 게시 중, 1: 게시 예정, 2: 게시 종료) | 0              |

---

### **21. 관리자(admin) 테이블**

| PK/FK  | Column Name   | Data Type   | Description            | Default        |
| ------ | ------------- | ----------- |------------------------| -------------- |
| PK     | adminIdx      | BIGINT      | 관리자 고유 ID              | AUTO INCREMENT |
| UNIQUE | adminId       | VARCHAR(20) | 관리자 로그인 ID             |                |
|        | adminPassword | VARCHAR(50) | 관리자 비밀번호               |                |
|        | adminLevel    | VARCHAR(20) | 관리자 등급 (SUPER, MANAGER) |                |
|        | adminStatus   | TINYINT(1)  | 관리자 상태 (0: 활성, 1: 삭제)  | 0              |

---

### **22. 로그(log) 테이블**

| PK/FK | Column Name | Data Type    | Description                             | Default           |
| ----- | ----------- | ------------ | --------------------------------------- | ----------------- |
| PK    | logIdx      | BIGINT       | 로그 고유 ID                                | AUTO INCREMENT    |
|       | logType     | TINYINT(1)   | 로그 유형 (0: 관리자, 1: 사용자)                  |                   |
| FK    | adminIdx    | BIGINT       | 관리자 ID (관리자 활동의 경우 연결, 사용자 활동의 경우 NULL) |                   |
|       | logTarget   | VARCHAR(50)  | 대상 (userIdx, adminIdx 등)                |                   |
|       | logInfo     | VARCHAR(100) | 로그 설명 (활동 내역, 변경 사항)                    |                   |
|       | logPreValue | VARCHAR(255) | 이전 값 (생성인 경우 NULL)                      |                   |
|       | logCurValue | VARCHAR(255) | 현재 값 (삭제인 경우 NULL)                      |                   |
|       | logDate     | DATETIME     | 발생 시각                                   | CURRENT_TIMESTAMP |








